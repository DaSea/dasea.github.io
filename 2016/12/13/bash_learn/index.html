<!DOCTYPE html>












  


<html class="theme-next gemini use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2"/>
<meta name="theme-color" content="#222">












<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />






















<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=6.3.0" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=6.3.0">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=6.3.0">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=6.3.0">


  <link rel="mask-icon" href="/images/logo.svg?v=6.3.0" color="#222">









<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '6.3.0',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":true,"scrollpercent":false,"onmobile":false},
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta name="description" content="基本的返回值每个命令都有一个返回值（返回状态或者退出状态）。命令执行成功的返回值总是0（零值），执行失败的命令，返回一个非0值（错误码）。错误码必须是一个1到255之间的整数。 在编写脚本时，另一个很有用的命令是exit。这个命令被用来终止当前的执行，并把返回值交给shell。当exit不带任何参数时，它会终止当前脚本的执行并返回在它之前最后一个执行的命令的返回值。 一个程序运行结束后，shell">
<meta name="keywords" content="bash">
<meta property="og:type" content="article">
<meta property="og:title" content="bash, zsh学习记录">
<meta property="og:url" content="http://yoursite.com/2016/12/13/bash_learn/index.html">
<meta property="og:site_name" content="兼容">
<meta property="og:description" content="基本的返回值每个命令都有一个返回值（返回状态或者退出状态）。命令执行成功的返回值总是0（零值），执行失败的命令，返回一个非0值（错误码）。错误码必须是一个1到255之间的整数。 在编写脚本时，另一个很有用的命令是exit。这个命令被用来终止当前的执行，并把返回值交给shell。当exit不带任何参数时，它会终止当前脚本的执行并返回在它之前最后一个执行的命令的返回值。 一个程序运行结束后，shell">
<meta property="og:locale" content="zh-Hans">
<meta property="og:updated_time" content="2016-12-13T02:29:48.673Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="bash, zsh学习记录">
<meta name="twitter:description" content="基本的返回值每个命令都有一个返回值（返回状态或者退出状态）。命令执行成功的返回值总是0（零值），执行失败的命令，返回一个非0值（错误码）。错误码必须是一个1到255之间的整数。 在编写脚本时，另一个很有用的命令是exit。这个命令被用来终止当前的执行，并把返回值交给shell。当exit不带任何参数时，它会终止当前脚本的执行并返回在它之前最后一个执行的命令的返回值。 一个程序运行结束后，shell">






  <link rel="canonical" href="http://yoursite.com/2016/12/13/bash_learn/"/>



<script type="text/javascript" id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>bash, zsh学习记录 | 兼容</title>
  









  <noscript>
  <style type="text/css">
    .use-motion .motion-element,
    .use-motion .brand,
    .use-motion .menu-item,
    .sidebar-inner,
    .use-motion .post-block,
    .use-motion .pagination,
    .use-motion .comments,
    .use-motion .post-header,
    .use-motion .post-body,
    .use-motion .collection-title { opacity: initial; }

    .use-motion .logo,
    .use-motion .site-title,
    .use-motion .site-subtitle {
      opacity: initial;
      top: initial;
    }

    .use-motion {
      .logo-line-before i { left: initial; }
      .logo-line-after i { right: initial; }
    }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">兼容</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
      
        <h1 class="site-subtitle" itemprop="description">这是一场不停的追逐!</h1>
      
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="Toggle navigation bar">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home">
    <a href="/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-home"></i> <br />Home</a>
  </li>
        
        
        
          
          <li class="menu-item menu-item-about">
    <a href="/about/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-user"></i> <br />About</a>
  </li>
        
        
        
          
          <li class="menu-item menu-item-tags">
    <a href="/tags/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />Tags</a>
  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">
    <a href="/archives/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />Archives</a>
  </li>

      
      
    </ul>
  

  

  
</nav>



  



</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
            

          
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  
    <div class="reading-progress-bar"></div>
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/12/13/bash_learn/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="DaSea">
      <meta itemprop="description" content="Fucking Code!">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="兼容">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">bash, zsh学习记录
              
            
          </h2>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2016-12-13 10:29:48" itemprop="dateCreated datePublished" datetime="2016-12-13T10:29:48+08:00">2016-12-13</time>
            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h1 id="基本的"><a href="/2016/12/13/bash_learn/#基本的" class="headerlink" title="基本的"></a>基本的</h1><h2 id="返回值"><a href="/2016/12/13/bash_learn/#返回值" class="headerlink" title="返回值"></a>返回值</h2><p>每个命令都有一个<strong>返回值</strong>（<strong>返回状态</strong>或者<strong>退出状态</strong>）。命令执行成功的返回值总是<code>0</code>（零值），执行失败的命令，返回一个非0值（错误码）。错误码必须是一个1到255之间的整数。</p>
<p>在编写脚本时，另一个很有用的命令是<code>exit</code>。这个命令被用来终止当前的执行，并把返回值交给shell。当<code>exit</code>不带任何参数时，它会终止当前脚本的执行并返回在它之前最后一个执行的命令的返回值。</p>
<p>一个程序运行结束后，shell将其<strong>返回值</strong>赋值给<code>$?</code>环境变量。因此<code>$?</code>变量通常被用来检测一个脚本执行成功与否。</p>
<p>与使用<code>exit</code>来结束一个脚本的执行类似，我们可以使用<code>return</code>命令来结束一个函数的执行并将<strong>返回值</strong>返回给调用者。当然，也可以在函数内部用<code>exit</code>，这 _不但_ 会中止函数的继续执行，_而且_ 会终止整个程序的执行。</p>
<h2 id="注释"><a href="/2016/12/13/bash_learn/#注释" class="headerlink" title="注释"></a>注释</h2><p>脚本中可以包含 _注释_。注释是特殊的语句，会被<code>shell</code>解释器忽略。它们以<code>#</code>开头，到行尾结束。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"><span class="comment"># This script will print your username.</span></span><br><span class="line">whoami</span><br></pre></td></tr></table></figure>
<h1 id="变量"><a href="/2016/12/13/bash_learn/#变量" class="headerlink" title="变量"></a>变量</h1><p>Bash中没有数据类型。变量只能包含数字或者由一个或多个字符组成的字符串<br>你可以创建三种变量：局部变量，环境变量以及作为 <em>位置参数</em> 的变量。</p>
<h2 id="局部变量"><a href="/2016/12/13/bash_learn/#局部变量" class="headerlink" title="局部变量"></a>局部变量</h2><p><strong>局部变量</strong> 是仅在某个脚本内部有效的变量。它们不能被其他的程序和脚本访问。</p>
<p>局部变量可以用<code>=</code>声明（作为一种约定，变量名、<code>=</code>、变量的值之间 <strong>不应该</strong> 有空格）,<br>其值可以用<code>$</code>访问到。举个例子：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">username=<span class="string">"denysdovhan"</span>  <span class="comment"># 声明变量</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$username</span>          <span class="comment"># 输出变量的值</span></span><br><span class="line"><span class="built_in">unset</span> username          <span class="comment"># 删除变量</span></span><br></pre></td></tr></table></figure>
<p>也可以用<code>local</code>关键字声明属于某个函数的局部变量,这样声明的变量会在函数结束时消失。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">local</span> local_var=<span class="string">"I'm a local value"</span></span><br></pre></td></tr></table></figure>
<h2 id="环境变量"><a href="/2016/12/13/bash_learn/#环境变量" class="headerlink" title="环境变量"></a>环境变量</h2><p><strong>环境变量</strong> 是对当前shell会话内所有的程序或脚本都可见的变量.<br>创建它们跟创建局部变量类似，但使用的是<code>export</code>关键字。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> GLOBAL_VAR=<span class="string">"I'm a global variable"</span></span><br></pre></td></tr></table></figure>
<p>bash中有 <em>非常多</em> 的环境变量。你会非常频繁地遇到它们，这里有一张速查表，记录了在实践中最常见的环境变量。</p>
<table>
<thead>
<tr>
<th style="text-align:left">Variable</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>$HOME</code></td>
<td style="text-align:left">当前用户的用户目录</td>
</tr>
<tr>
<td style="text-align:left"><code>$PATH</code></td>
<td style="text-align:left">用分号分隔的目录列表，shell会到这些目录中查找命令</td>
</tr>
<tr>
<td style="text-align:left"><code>$PWD</code></td>
<td style="text-align:left">当前工作目录</td>
</tr>
<tr>
<td style="text-align:left"><code>$RANDOM</code></td>
<td style="text-align:left">0到32767之间的整数</td>
</tr>
<tr>
<td style="text-align:left"><code>$UID</code></td>
<td style="text-align:left">数值类型，当前用户的用户ID</td>
</tr>
<tr>
<td style="text-align:left"><code>$PS1</code></td>
<td style="text-align:left">主要系统输入提示符</td>
</tr>
<tr>
<td style="text-align:left"><code>$PS2</code></td>
<td style="text-align:left">次要系统输入提示符</td>
</tr>
</tbody>
</table>
<p><a href="http://tldp.org/LDP/Bash-Beginners-Guide/html/sect_03_02.html#sect_03_02_04" target="_blank" rel="noopener">查看更多</a></p>
<h2 id="位置参数"><a href="/2016/12/13/bash_learn/#位置参数" class="headerlink" title="位置参数"></a>位置参数</h2><p><strong>位置参数</strong> 是在调用一个函数并传给它参数时创建的变量。下表列出了在函数中，位置参数变量和一些其它的特殊变量以及它们的意义。</p>
<table>
<thead>
<tr>
<th style="text-align:left">Parameter</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>$0</code></td>
<td style="text-align:left">脚本名称</td>
</tr>
<tr>
<td style="text-align:left"><code>$1 … $9</code></td>
<td style="text-align:left">第1个到第9个参数列表</td>
</tr>
<tr>
<td style="text-align:left"><code>${10} … ${N}</code></td>
<td style="text-align:left">第10个到N个参数列表</td>
</tr>
<tr>
<td style="text-align:left"><code>$*</code> or <code>$@</code></td>
<td style="text-align:left">除了<code>$0</code>外的所有位置参数</td>
</tr>
<tr>
<td style="text-align:left"><code>$#</code></td>
<td style="text-align:left">不包括<code>$0</code>在内的位置参数的个数</td>
</tr>
<tr>
<td style="text-align:left"><code>$FUNCNAME</code></td>
<td style="text-align:left">函数名称（仅在函数内部有值）</td>
</tr>
</tbody>
</table>
<p>在下面的例子中，位置参数为：<code>$0=&#39;./script.sh&#39;</code>，<code>$1=&#39;foo&#39;</code>，<code>$2=&#39;bar&#39;</code>：</p>
<pre><code>./script.sh foo bar
</code></pre><p>变量可以有 _默认_ 值。我们可以用如下语法来指定默认值：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment"># 如果变量为空，赋给他们默认值</span></span><br><span class="line">: <span class="variable">$&#123;VAR:='default'&#125;</span></span><br><span class="line">: <span class="variable">$&#123;$1:='first'&#125;</span></span><br><span class="line"><span class="comment"># 或者</span></span><br><span class="line">FOO=<span class="variable">$&#123;FOO:-'default'&#125;</span></span><br></pre></td></tr></table></figure>
<h1 id="Shell扩展"><a href="/2016/12/13/bash_learn/#Shell扩展" class="headerlink" title="Shell扩展"></a>Shell扩展</h1><p>_扩展_ 发生在一行命令被分成一个个的 <em>记号（tokens）</em> 之后。换言之，扩展是一种执行数学运算的机制，还可以用来保存命令的执行结果，等等。</p>
<p><a href="https://www.gnu.org/software/bash/manual/bash.html#Shell-Expansions" target="_blank" rel="noopener">shell扩展的更多细节</a>。</p>
<h2 id="大括号扩展"><a href="/2016/12/13/bash_learn/#大括号扩展" class="headerlink" title="大括号扩展"></a>大括号扩展</h2><p>大括号扩展让生成任意的字符串成为可能。它跟 <em>文件名扩展</em> 很类似，举个例子：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> beg&#123;i,a,u&#125;n <span class="comment"># begin began begun</span></span><br></pre></td></tr></table></figure>
<p>大括号扩展还可以用来创建一个可被循环迭代的区间。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> &#123;0..5&#125; <span class="comment"># 0 1 2 3 4 5</span></span><br><span class="line"><span class="built_in">echo</span> &#123;00..8..2&#125; <span class="comment"># 00 02 04 06 08</span></span><br></pre></td></tr></table></figure>
<h2 id="命令置换"><a href="/2016/12/13/bash_learn/#命令置换" class="headerlink" title="命令置换"></a>命令置换</h2><p>命令置换允许我们对一个命令求值，并将其值置换到另一个命令或者变量赋值表达式中。当一个命令被<figure class="highlight plain"><figcaption><span>```或`$()`包围时，命令置换将会执行。举个例子：</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">```bash</span><br><span class="line">now=`date +%T`</span><br><span class="line"># or</span><br><span class="line">now=$(date +%T)</span><br><span class="line"></span><br><span class="line">echo $now # 19:08:26</span><br></pre></td></tr></table></figure></p>
<h2 id="算数扩展"><a href="/2016/12/13/bash_learn/#算数扩展" class="headerlink" title="算数扩展"></a>算数扩展</h2><p>在bash中，执行算数运算是非常方便的。算数表达式必须包在<code>$(( ))</code>中。算数扩展的格式为：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">result=$(( ((10 + 5*3) - 7) / 2 ))</span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$result</span> <span class="comment"># 9</span></span><br></pre></td></tr></table></figure>
<p>在算数表达式中，使用变量无需带上<code>$</code>前缀：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">x=4</span><br><span class="line">y=7</span><br><span class="line"><span class="built_in">echo</span> $(( x + y ))     <span class="comment"># 11</span></span><br><span class="line"><span class="built_in">echo</span> $(( ++x + y++ )) <span class="comment"># 12</span></span><br><span class="line"><span class="built_in">echo</span> $(( x + y ))     <span class="comment"># 13</span></span><br></pre></td></tr></table></figure>
<h2 id="单引号和双引号"><a href="/2016/12/13/bash_learn/#单引号和双引号" class="headerlink" title="单引号和双引号"></a>单引号和双引号</h2><p>单引号和双引号之间有很重要的区别。在双引号中，变量引用或者命令置换是会被展开的.<br>在单引号中是不会的。双引号中, 对于变量可以扩展, 但是不用于扩展通配符; 单引号都<br>展开,举个例子：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">"Your home: <span class="variable">$HOME</span>"</span> <span class="comment"># Your home: /Users/&lt;username&gt;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">'Your home: $HOME'</span> <span class="comment"># Your home: $HOME</span></span><br></pre></td></tr></table></figure>
<p>当局部变量和环境变量包含空格时，它们在引号中的扩展要格外注意。随便举个例子，假如我们用<code>echo</code>来输出用户的输入：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">INPUT=<span class="string">"A string  with   strange    whitespace."</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$INPUT</span>   <span class="comment"># A string with strange whitespace.</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"<span class="variable">$INPUT</span>"</span> <span class="comment"># A string  with   strange    whitespace.</span></span><br></pre></td></tr></table></figure>
<p>调用第一个<code>echo</code>时给了它5个单独的参数 —— $INPUT被分成了单独的词，<code>echo</code>在每个词之间打印了一个空格。第二种情况，调用<code>echo</code>时只给了它一个参数（整个$INPUT的值，包括其中的空格）。</p>
<p>来看一个更严肃的例子：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">FILE=<span class="string">"Favorite Things.txt"</span></span><br><span class="line">cat <span class="variable">$FILE</span>   <span class="comment"># 尝试输出两个文件: `Favorite` 和 `Things.txt`</span></span><br><span class="line">cat <span class="string">"<span class="variable">$FILE</span>"</span> <span class="comment"># 输出一个文件: `Favorite Things.txt`</span></span><br></pre></td></tr></table></figure>
<p>尽管这个问题可以通过把FILE重命名成<code>Favorite-Things.txt</code>来解决，但是，假如这个值来自某个环境变量，来自一个位置参数，或者来自其它命令（<code>find</code>, <code>cat</code>, 等等）呢。因此，如果输入 <em>可能</em> 包含空格，务必要用引号把表达式包起来。</p>
<h1 id="数组"><a href="/2016/12/13/bash_learn/#数组" class="headerlink" title="数组"></a>数组</h1><p>跟其它程序设计语言一样，bash中的数组变量给了你引用多个值的能力。在bash中，数组下标也是从0开始，也就是说，第一个元素的下标是0。</p>
<p>跟数组打交道时，要注意一个特殊的环境变量<code>IFS</code>。<strong>IFS</strong>，全称 <strong>Input Field Separator</strong>，保存了数组中元素的分隔符。它的默认值是一个空格<code>IFS=&#39; &#39;</code>。</p>
<h2 id="数组声明"><a href="/2016/12/13/bash_learn/#数组声明" class="headerlink" title="数组声明"></a>数组声明</h2><p>在bash中，可以通过简单地给数组变量的某个下标赋值来创建一个数组：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">fruits[0]=Apple</span><br><span class="line">fruits[1]=Pear</span><br><span class="line">fruits[2]=Plum</span><br></pre></td></tr></table></figure>
<p>数组变量也可以通过复合赋值的方式来创建，比如：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fruits=(Apple Pear Plum)</span><br></pre></td></tr></table></figure>
<h2 id="数组扩展"><a href="/2016/12/13/bash_learn/#数组扩展" class="headerlink" title="数组扩展"></a>数组扩展</h2><p>单个数组元素的扩展跟普通变量的扩展类似：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="variable">$&#123;fruits[1]&#125;</span> <span class="comment"># Pear</span></span><br></pre></td></tr></table></figure>
<p>整个数组可以通过把数字下标换成<code>*</code>或<code>@</code>来扩展：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="variable">$&#123;fruits[*]&#125;</span> <span class="comment"># Apple Pear Plum</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$&#123;fruits[@]&#125;</span> <span class="comment"># Apple Pear Plum</span></span><br></pre></td></tr></table></figure>
<p>上面两行有很重要（也很微妙）的区别，假设某数组元素中包含空格：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">fruits[0]=Apple</span><br><span class="line">fruits[1]=<span class="string">"Desert fig"</span></span><br><span class="line">fruits[2]=Plum</span><br></pre></td></tr></table></figure>
<p>为了将数组中每个元素单独一行输出，我们用内建的<code>printf</code>命令：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">printf</span> <span class="string">"+ %s\n"</span> <span class="variable">$&#123;fruits[*]&#125;</span></span><br><span class="line"><span class="comment"># + Apple</span></span><br><span class="line"><span class="comment"># + Desert</span></span><br><span class="line"><span class="comment"># + fig</span></span><br><span class="line"><span class="comment"># + Plum</span></span><br></pre></td></tr></table></figure>
<p>为什么<code>Desert</code>和<code>fig</code>各占了一行？尝试用引号包起来：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">printf</span> <span class="string">"+ %s\n"</span> <span class="string">"<span class="variable">$&#123;fruits[*]&#125;</span>"</span></span><br><span class="line"><span class="comment"># + Apple Desert fig Plum</span></span><br></pre></td></tr></table></figure>
<p>现在所有的元素都跑去了一行 —— 这不是我们想要的！为了解决这个痛点，<code>${fruits[@]}</code>闪亮登场：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">printf</span> <span class="string">"+ %s\n"</span> <span class="string">"<span class="variable">$&#123;fruits[@]&#125;</span>"</span></span><br><span class="line"><span class="comment"># + Apple</span></span><br><span class="line"><span class="comment"># + Desert fig</span></span><br><span class="line"><span class="comment"># + Plum</span></span><br></pre></td></tr></table></figure>
<p>在引号内，<code>${fruits[@]}</code>将数组中的每个元素扩展为一个单独的参数；数组元素中的空格得以保留。</p>
<h2 id="数组切片"><a href="/2016/12/13/bash_learn/#数组切片" class="headerlink" title="数组切片"></a>数组切片</h2><p>除此之外，可以通过 _切片_ 运算符来取出数组中的某一片元素：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="variable">$&#123;fruits[@]:0:2&#125;</span> <span class="comment"># Apple Desert fig</span></span><br></pre></td></tr></table></figure>
<p>在上面的例子中，<code>${fruits[@]}</code>扩展为整个数组，<code>:0:2</code>取出了数组中从0开始，长度为2的元素。</p>
<h2 id="向数组中添加元素"><a href="/2016/12/13/bash_learn/#向数组中添加元素" class="headerlink" title="向数组中添加元素"></a>向数组中添加元素</h2><p>向数组中添加元素也非常简单。复合赋值在这里显得格外有用。我们可以这样做：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">fruits=(Orange <span class="string">"<span class="variable">$&#123;fruits[@]&#125;</span>"</span> Banana Cherry)</span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$&#123;fruits[@]&#125;</span> <span class="comment"># Orange Apple Desert fig Plum Banana Cherry</span></span><br></pre></td></tr></table></figure>
<p>上面的例子中，<code>${fruits[@]}</code>扩展为整个数组，并被置换到复合赋值语句中，接着，对数组<code>fruits</code>的赋值覆盖了它原来的值。</p>
<h2 id="从数组中删除元素"><a href="/2016/12/13/bash_learn/#从数组中删除元素" class="headerlink" title="从数组中删除元素"></a>从数组中删除元素</h2><p>用<code>unset</code>命令来从数组中删除一个元素：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">unset</span> fruits[0]</span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$&#123;fruits[@]&#125;</span> <span class="comment"># Apple Desert fig Plum Banana Cherry</span></span><br></pre></td></tr></table></figure>
<h1 id="流，管道以及序列"><a href="/2016/12/13/bash_learn/#流，管道以及序列" class="headerlink" title="流，管道以及序列"></a>流，管道以及序列</h1><p>Bash有很强大的工具来处理程序之间的协同工作。使用流，我们能将一个程序的输出发送到另一个程序或文件，因此，我们能方便地记录日志或做一些其它我们想做的事。</p>
<p>管道给了我们创建传送带的机会，控制程序的执行成为可能。</p>
<p>学习如何使用这些强大的、高级的工具是非常非常重要的。</p>
<h2 id="流"><a href="/2016/12/13/bash_learn/#流" class="headerlink" title="流"></a>流</h2><p>Bash接收输入，并以字符序列或 <strong>字符流</strong> 的形式产生输出。这些流能被重定向到文件或另一个流中。</p>
<p>有三个文件描述符：</p>
<table>
<thead>
<tr>
<th style="text-align:center">代码</th>
<th style="text-align:center">描述符</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><code>0</code></td>
<td style="text-align:center"><code>stdin</code></td>
<td style="text-align:left">标准输入</td>
</tr>
<tr>
<td style="text-align:center"><code>1</code></td>
<td style="text-align:center"><code>stdout</code></td>
<td style="text-align:left">标准输出</td>
</tr>
<tr>
<td style="text-align:center"><code>2</code></td>
<td style="text-align:center"><code>stderr</code></td>
<td style="text-align:left">标准错误输出</td>
</tr>
</tbody>
</table>
<p>重定向让我们可以控制一个命令的输入来自哪里，输出结果到什么地方。这些运算符在控制流的重定向时会被用到：</p>
<table>
<thead>
<tr>
<th style="text-align:center">Operator</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><code>&gt;</code></td>
<td style="text-align:left">重定向输出</td>
</tr>
<tr>
<td style="text-align:center"><code>&amp;&gt;</code></td>
<td style="text-align:left">重定向输出和错误输出</td>
</tr>
<tr>
<td style="text-align:center"><code>&amp;&gt;&gt;</code></td>
<td style="text-align:left">以附加的形式重定向输出和错误输出</td>
</tr>
<tr>
<td style="text-align:center"><code>&lt;</code></td>
<td style="text-align:left">重定向输入</td>
</tr>
<tr>
<td style="text-align:center"><code>&lt;&lt;</code></td>
<td style="text-align:left"><a href="http://tldp.org/LDP/abs/html/here-docs.html" target="_blank" rel="noopener">Here文档</a> 语法</td>
</tr>
<tr>
<td style="text-align:center"><code>&lt;&lt;&lt;</code></td>
<td style="text-align:left"><a href="http://www.tldp.org/LDP/abs/html/x17837.html" target="_blank" rel="noopener">Here字符串</a></td>
</tr>
</tbody>
</table>
<p>以下是一些使用重定向的例子：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ls的结果将会被写到list.txt中</span></span><br><span class="line">ls -l &gt; list.txt</span><br><span class="line"></span><br><span class="line"><span class="comment"># 将输出附加到list.txt中</span></span><br><span class="line">ls -a &gt;&gt; list.txt</span><br><span class="line"></span><br><span class="line"><span class="comment"># 所有的错误信息会被写到errors.txt中</span></span><br><span class="line">grep da * 2&gt; errors.txt</span><br><span class="line"></span><br><span class="line"><span class="comment"># 从errors.txt中读取输入</span></span><br><span class="line">less &lt; errors.txt</span><br></pre></td></tr></table></figure>
<h2 id="管道"><a href="/2016/12/13/bash_learn/#管道" class="headerlink" title="管道"></a>管道</h2><p>我们不仅能将流重定向到文件中，还能重定向到其它程序中。<strong>管道</strong> 允许我们把一个程序的输出当做另一个程序的输入。</p>
<p>在下面的例子中，<code>command1</code>把它的输出发送给了<code>command2</code>，然后输出被传递到<code>command3</code>：</p>
<pre><code>command1 | command2 | command3
</code></pre><p>这样的结构被称作 <strong>管道</strong>。</p>
<p>在实际操作中，这可以用来在多个程序间依次处理数据。在下面的例子中，<code>ls -l</code>的输出被发送给了<code>grep</code>，来打印出扩展名是<code>.md</code>的文件，它的输出最终发送给了<code>less</code>：</p>
<pre><code>ls -l | grep .md$ | less
</code></pre><p>管道的返回值通常是管道中最后一个命令的返回值。shell会等到管道中所有的命令都结束后，才会返回一个值。如果你想让管道中任意一个命令失败后，管道就宣告失败，那么需要用下面的命令设置pipefail选项：</p>
<pre><code>set -o pipefail
</code></pre><h2 id="命令序列"><a href="/2016/12/13/bash_learn/#命令序列" class="headerlink" title="命令序列"></a>命令序列</h2><p>命令序列是由<code>;</code>，<code>&amp;</code>，<code>&amp;&amp;</code>或者<code>||</code>运算符分隔的一个或多个管道序列。</p>
<p>如果一个命令以<code>&amp;</code>结尾，shell将会在一个子shell中异步执行这个命令。换句话说，这个命令将会在后台执行。</p>
<p>以<code>;</code>分隔的命令将会依次执行：一个接着一个。shell会等待直到每个命令执行完。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># command2 会在 command1 之后执行</span></span><br><span class="line">command1 ; command2</span><br><span class="line"></span><br><span class="line"><span class="comment"># 等同于这种写法</span></span><br><span class="line">command1</span><br><span class="line">command2</span><br></pre></td></tr></table></figure>
<p>以<code>&amp;&amp;</code>和<code>||</code>分隔的命令分别叫做 _与_ 和 _或_ 序列。</p>
<p><em>与序列</em> 看起来是这样的：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 当且仅当command1执行成功（返回0值）时，command2才会执行</span></span><br><span class="line">command1 &amp;&amp; command2</span><br></pre></td></tr></table></figure>
<p><em>或序列</em> 是下面这种形式：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 当且仅当command1执行失败（返回错误码）时，command2才会执行</span></span><br><span class="line">command1 || command2</span><br></pre></td></tr></table></figure>
<p>_与_ 或 _或_ 序列的返回值是序列中最后一个执行的命令的返回值。</p>
<h1 id="条件语句"><a href="/2016/12/13/bash_learn/#条件语句" class="headerlink" title="条件语句"></a>条件语句</h1><p>跟其它程序设计语言一样，Bash中的条件语句让我们可以决定一个操作是否被执行。结果取决于一个包在<code>[[ ]]</code>里的表达式。</p>
<p>条件表达式可以包含<code>&amp;&amp;</code>和<code>||</code>运算符，分别对应 _与_ 和 _或_ 。除此之外还有很多有用的<a href="/2016/12/13/bash_learn/#基元和组合表达式">表达式</a>。</p>
<p>共有两个不同的条件表达式：<code>if</code>和<code>case</code>。</p>
<h2 id="基元和组合表达式"><a href="/2016/12/13/bash_learn/#基元和组合表达式" class="headerlink" title="基元和组合表达式"></a>基元和组合表达式</h2><p>由<code>[[ ]]</code>（<code>sh</code>中是<code>[ ]</code>）包起来的表达式被称作 <strong>检测命令</strong> 或 <strong>基元</strong>。这些表达式帮助我们检测一个条件的结果。在下面的表里，为了兼容<code>sh</code>，我们用的是<code>[ ]</code>。这里可以找到有关<a href="http://serverfault.com/a/52050" target="_blank" rel="noopener">bash中单双中括号区别</a>的答案。</p>
<p><strong>跟文件系统相关：</strong></p>
<table>
<thead>
<tr>
<th style="text-align:center">基元</th>
<th style="text-align:left">含义</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><code>[ -e FILE ]</code></td>
<td style="text-align:left">如果<code>FILE</code>存在 (<strong>e</strong>xists)，为真</td>
</tr>
<tr>
<td style="text-align:center"><code>[ -f FILE ]</code></td>
<td style="text-align:left">如果<code>FILE</code>存在且为一个普通文件（<strong>f</strong>ile），为真</td>
</tr>
<tr>
<td style="text-align:center"><code>[ -d FILE ]</code></td>
<td style="text-align:left">如果<code>FILE</code>存在且为一个目录（<strong>d</strong>irectory），为真</td>
</tr>
<tr>
<td style="text-align:center"><code>[ -s FILE ]</code></td>
<td style="text-align:left">如果<code>FILE</code>存在且非空（<strong>s</strong>ize 大于0），为真</td>
</tr>
<tr>
<td style="text-align:center"><code>[ -r FILE ]</code></td>
<td style="text-align:left">如果<code>FILE</code>存在且有读权限（<strong>r</strong>eadable），为真</td>
</tr>
<tr>
<td style="text-align:center"><code>[ -w FILE ]</code></td>
<td style="text-align:left">如果<code>FILE</code>存在且有写权限（<strong>w</strong>ritable），为真</td>
</tr>
<tr>
<td style="text-align:center"><code>[ -x FILE ]</code></td>
<td style="text-align:left">如果<code>FILE</code>存在且有可执行权限（e<strong>x</strong>ecutable），为真</td>
</tr>
<tr>
<td style="text-align:center"><code>[ -L FILE ]</code></td>
<td style="text-align:left">如果<code>FILE</code>存在且为一个符号链接（<strong>l</strong>ink），为真</td>
</tr>
<tr>
<td style="text-align:center"><code>[ FILE1 -nt FILE2 ]</code></td>
<td style="text-align:left"><code>FILE1</code>比<code>FILE2</code>新（<strong>n</strong>ewer <strong>t</strong>han）</td>
</tr>
<tr>
<td style="text-align:center"><code>[ FILE1 -ot FILE2 ]</code></td>
<td style="text-align:left"><code>FILE1</code>比<code>FILE2</code>旧（<strong>o</strong>lder <strong>t</strong>han）</td>
</tr>
</tbody>
</table>
<p><strong>跟字符串相关：</strong></p>
<table>
<thead>
<tr>
<th style="text-align:center">基元</th>
<th style="text-align:left">含义</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><code>[ -z STR ]</code></td>
<td style="text-align:left"><code>STR</code>为空（长度为0，<strong>z</strong>ero）</td>
</tr>
<tr>
<td style="text-align:center"><code>[ -n STR ]</code></td>
<td style="text-align:left"><code>STR</code>非空（长度非0，<strong>n</strong>on-zero）</td>
</tr>
<tr>
<td style="text-align:center"><code>[ STR1 == STR2 ]</code></td>
<td style="text-align:left"><code>STR1</code>和<code>STR2</code>相等</td>
</tr>
<tr>
<td style="text-align:center"><code>[ STR1 != STR2 ]</code></td>
<td style="text-align:left"><code>STR1</code>和<code>STR2</code>不等</td>
</tr>
</tbody>
</table>
<p><strong>算数二元运算符：</strong></p>
<table>
<thead>
<tr>
<th style="text-align:center">基元</th>
<th style="text-align:left">含义</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><code>[ ARG1 -eq ARG2 ]</code></td>
<td style="text-align:left"><code>ARG1</code>和<code>ARG2</code>相等（<strong>eq</strong>ual）</td>
</tr>
<tr>
<td style="text-align:center"><code>[ ARG1 -ne ARG2 ]</code></td>
<td style="text-align:left"><code>ARG1</code>和<code>ARG2</code>不等（<strong>n</strong>ot <strong>e</strong>qual）</td>
</tr>
<tr>
<td style="text-align:center"><code>[ ARG1 -lt ARG2 ]</code></td>
<td style="text-align:left"><code>ARG1</code>小于<code>ARG2</code>（<strong>l</strong>ess <strong>t</strong>han）</td>
</tr>
<tr>
<td style="text-align:center"><code>[ ARG1 -le ARG2 ]</code></td>
<td style="text-align:left"><code>ARG1</code>小于等于<code>ARG2</code>（<strong>l</strong>ess than or <strong>e</strong>qual）</td>
</tr>
<tr>
<td style="text-align:center"><code>[ ARG1 -gt ARG2 ]</code></td>
<td style="text-align:left"><code>ARG1</code>大于<code>ARG2</code>（<strong>g</strong>reater <strong>t</strong>han）</td>
</tr>
<tr>
<td style="text-align:center"><code>[ ARG1 -ge ARG2 ]</code></td>
<td style="text-align:left"><code>ARG1</code>大于等于<code>ARG2</code>（<strong>g</strong>reater than or <strong>e</strong>qual）</td>
</tr>
</tbody>
</table>
<p>条件语句可以跟 <strong>组合表达式</strong> 配合使用：</p>
<table>
<thead>
<tr>
<th style="text-align:center">Operation</th>
<th style="text-align:left">Effect</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><code>[ ! EXPR ]</code></td>
<td style="text-align:left">如果<code>EXPR</code>为假，为真</td>
</tr>
<tr>
<td style="text-align:center"><code>[ (EXPR) ]</code></td>
<td style="text-align:left">返回<code>EXPR</code>的值</td>
</tr>
<tr>
<td style="text-align:center"><code>[ EXPR1 -a EXPR2 ]</code></td>
<td style="text-align:left">逻辑 _与_， 如果<code>EXPR1</code>和（<strong>a</strong>nd）<code>EXPR2</code>都为真，为真</td>
</tr>
<tr>
<td style="text-align:center"><code>[ EXPR1 -o EXPR2 ]</code></td>
<td style="text-align:left">逻辑 _或_， 如果<code>EXPR1</code>或（<strong>o</strong>r）<code>EXPR2</code>为真，为真</td>
</tr>
</tbody>
</table>
<p>当然，还有很多有用的基元，在<a href="http://www.gnu.org/software/bash/manual/html_node/Bash-Conditional-Expressions.html" target="_blank" rel="noopener">Bash的man页面</a>能很容易找到它们。</p>
<h2 id="使用if"><a href="/2016/12/13/bash_learn/#使用if" class="headerlink" title="使用if"></a>使用<code>if</code></h2><p><code>if</code>在使用上跟其它语言相同。如果中括号里的表达式为真，那么<code>then</code>和<code>fi</code>之间的代码会被执行。<code>fi</code>标志着条件代码块的结束。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 写成一行</span></span><br><span class="line"><span class="keyword">if</span> [[ 1 -eq 1 ]]; <span class="keyword">then</span> <span class="built_in">echo</span> <span class="string">"true"</span>; <span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 写成多行</span></span><br><span class="line"><span class="keyword">if</span> [[ 1 -eq 1 ]]; <span class="keyword">then</span></span><br><span class="line">  <span class="built_in">echo</span> <span class="string">"true"</span></span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure>
<p>同样，我们可以使用<code>if..else</code>语句，例如：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 写成一行</span></span><br><span class="line"><span class="keyword">if</span> [[ 2 -ne 1 ]]; <span class="keyword">then</span> <span class="built_in">echo</span> <span class="string">"true"</span>; <span class="keyword">else</span> <span class="built_in">echo</span> <span class="string">"false"</span>; <span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 写成多行</span></span><br><span class="line"><span class="keyword">if</span> [[ 2 -ne 1 ]]; <span class="keyword">then</span></span><br><span class="line">  <span class="built_in">echo</span> <span class="string">"true"</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">  <span class="built_in">echo</span> <span class="string">"false"</span></span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure>
<p>有些时候，<code>if..else</code>不能满足我们的要求。别忘了<code>if..elif..else</code>，使用起来也很方便。</p>
<p>看下面的例子：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> [[ `uname` == <span class="string">"Adam"</span> ]]; <span class="keyword">then</span></span><br><span class="line">  <span class="built_in">echo</span> <span class="string">"Do not eat an apple!"</span></span><br><span class="line"><span class="keyword">elif</span> [[ `uname` == <span class="string">"Eva"</span> ]]; <span class="keyword">then</span></span><br><span class="line">  <span class="built_in">echo</span> <span class="string">"Do not take an apple!"</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">  <span class="built_in">echo</span> <span class="string">"Apples are delicious!"</span></span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure>
<h2 id="使用case"><a href="/2016/12/13/bash_learn/#使用case" class="headerlink" title="使用case"></a>使用<code>case</code></h2><p>如果你需要面对很多情况，分别要采取不同的措施，那么使用<code>case</code>会比嵌套的<code>if</code>更有用。使用<code>case</code>来解决复杂的条件判断，看起来像下面这样：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">case</span> <span class="string">"<span class="variable">$extension</span>"</span> <span class="keyword">in</span></span><br><span class="line">  <span class="string">"jpg"</span>|<span class="string">"jpeg"</span>)</span><br><span class="line">    <span class="built_in">echo</span> <span class="string">"It's image with jpeg extension."</span></span><br><span class="line">  ;;</span><br><span class="line">  <span class="string">"png"</span>)</span><br><span class="line">    <span class="built_in">echo</span> <span class="string">"It's image with png extension."</span></span><br><span class="line">  ;;</span><br><span class="line">  <span class="string">"gif"</span>)</span><br><span class="line">    <span class="built_in">echo</span> <span class="string">"Oh, it's a giphy!"</span></span><br><span class="line">  ;;</span><br><span class="line">  *)</span><br><span class="line">    <span class="built_in">echo</span> <span class="string">"Woops! It's not image!"</span></span><br><span class="line">  ;;</span><br><span class="line"><span class="keyword">esac</span></span><br><span class="line">`sh中的循环也是只要控制条件为真就一直迭代执行的代码块。</span><br><span class="line"></span><br><span class="line">Bash中有四种循环：`<span class="keyword">for</span>`，`<span class="keyword">while</span>`，`until`和`select`。</span><br><span class="line"></span><br><span class="line"><span class="comment">## `for`循环</span></span><br><span class="line"></span><br><span class="line">`<span class="keyword">for</span>`与它在C语言中的姊妹非常像。看起来是这样：</span><br><span class="line"></span><br><span class="line">```bash</span><br><span class="line"><span class="keyword">for</span> arg <span class="keyword">in</span> elem1 elem2 ... elemN</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">  <span class="comment"># 语句</span></span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure>
<p>在每次循环的过程中，<code>arg</code>依次被赋值为从<code>elem1</code>到<code>elemN</code>。这些值还可以是通配符或者<a href="/2016/12/13/bash_learn/#大括号扩展">大括号扩展</a>。</p>
<p>当然，我们还可以把<code>for</code>循环写在一行，但这要求<code>do</code>之前要有一个分号，就像下面这样：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> &#123;1..5&#125;; <span class="keyword">do</span> <span class="built_in">echo</span> <span class="variable">$i</span>; <span class="keyword">done</span></span><br></pre></td></tr></table></figure>
<p>还有，如果你觉得<code>for..in..do</code>对你来说有点奇怪，那么你也可以像C语言那样使用<code>for</code>，比如：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (( i = 0; i &lt; 10; i++ )); <span class="keyword">do</span></span><br><span class="line">  <span class="built_in">echo</span> <span class="variable">$i</span></span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure>
<p>当我们想对一个目录下的所有文件做同样的操作时，<code>for</code>就很方便了。举个例子，如果我们想把所有的<code>.bash</code>文件移动到<code>script</code>文件夹中，并给它们可执行权限，我们的脚本可以这样写：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> FILE <span class="keyword">in</span> <span class="variable">$HOME</span>/*.bash; <span class="keyword">do</span></span><br><span class="line">  mv <span class="string">"<span class="variable">$FILE</span>"</span> <span class="string">"<span class="variable">$&#123;HOME&#125;</span>/scripts"</span></span><br><span class="line">  chmod +x <span class="string">"<span class="variable">$&#123;HOME&#125;</span>/scripts/<span class="variable">$&#123;FILE&#125;</span>"</span></span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure>
<h2 id="while循环"><a href="/2016/12/13/bash_learn/#while循环" class="headerlink" title="while循环"></a><code>while</code>循环</h2><p><code>while</code>循环检测一个条件，只要这个条件为 _真_，就执行一段命令。被检测的条件跟<code>if..then</code>中使用的<a href="/2016/12/13/bash_learn/#基元和组合表达式">基元</a>并无二异。因此一个<code>while</code>循环看起来会是这样：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span> [[ condition ]]</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">  <span class="comment"># 语句</span></span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure>
<p>跟<code>for</code>循环一样，如果我们把<code>do</code>和被检测的条件写到一行，那么必须要在<code>do</code>之前加一个分号。</p>
<p>比如下面这个例子：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 0到9之间每个数的平方</span></span><br><span class="line">x=0</span><br><span class="line"><span class="keyword">while</span> [[ <span class="variable">$x</span> -lt 10 ]]; <span class="keyword">do</span> <span class="comment"># x小于10</span></span><br><span class="line">  <span class="built_in">echo</span> $(( x * x ))</span><br><span class="line">  x=$(( x + 1 )) <span class="comment"># x加1</span></span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure>
<h2 id="until循环"><a href="/2016/12/13/bash_learn/#until循环" class="headerlink" title="until循环"></a><code>until</code>循环</h2><p><code>until</code>循环跟<code>while</code>循环正好相反。它跟<code>while</code>一样也需要检测一个测试条件，但不同的是，只要该条件为 _假_ 就一直执行循环：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">until [[ condition ]]; <span class="keyword">do</span></span><br><span class="line">  <span class="comment"># 语句</span></span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure>
<h2 id="select循环"><a href="/2016/12/13/bash_learn/#select循环" class="headerlink" title="select循环"></a><code>select</code>循环</h2><p><code>select</code>循环帮助我们组织一个用户菜单。它的语法几乎跟<code>for</code>循环一致：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">select answer <span class="keyword">in</span> elem1 elem2 ... elemN</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">  <span class="comment"># 语句</span></span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure>
<p><code>select</code>会打印<code>elem1..elemN</code>以及它们的序列号到屏幕上，之后会提示用户输入。通常看到的是<code>$?</code>（<code>PS3</code>变量）。用户的选择结果会被保存到<code>answer</code>中。如果<code>answer</code>是一个在<code>1..N</code>之间的数字，那么<code>语句</code>会被执行，紧接着会进行下一次迭代 —— 如果不想这样的话我们可以使用<code>break</code>语句。</p>
<p>一个可能的实例可能会是这样：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line">PS3=<span class="string">"Choose the package manager: "</span></span><br><span class="line">select ITEM <span class="keyword">in</span> bower npm gem pip</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">  <span class="built_in">echo</span> -n <span class="string">"Enter the package name: "</span> &amp;&amp; <span class="built_in">read</span> PACKAGE</span><br><span class="line">  <span class="keyword">case</span> <span class="variable">$ITEM</span> <span class="keyword">in</span></span><br><span class="line">    bower) bower install <span class="variable">$PACKAGE</span> ;;</span><br><span class="line">    npm)   npm   install <span class="variable">$PACKAGE</span> ;;</span><br><span class="line">    gem)   gem   install <span class="variable">$PACKAGE</span> ;;</span><br><span class="line">    pip)   pip   install <span class="variable">$PACKAGE</span> ;;</span><br><span class="line">  <span class="keyword">esac</span></span><br><span class="line">  <span class="built_in">break</span> <span class="comment"># 避免无限循环</span></span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure>
<p>这个例子，先询问用户他想使用什么包管理器。接着，又询问了想安装什么包，最后执行安装操作。</p>
<p>运行这个脚本，会得到如下输出：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$ ./my_script</span><br><span class="line">1) bower</span><br><span class="line">2) npm</span><br><span class="line">3) gem</span><br><span class="line">4) pip</span><br><span class="line">Choose the package manager: 2</span><br><span class="line">Enter the package name: bash-handbook</span><br><span class="line">&lt;installing bash-handbook&gt;</span><br></pre></td></tr></table></figure>
<h2 id="循环控制"><a href="/2016/12/13/bash_learn/#循环控制" class="headerlink" title="循环控制"></a>循环控制</h2><p>我们会遇到想提前结束一个循环或跳过某次循环执行的情况。这些可以使用shell内建的<code>break</code>和<code>continue</code>语句来实现。它们可以在任何循环中使用。</p>
<p><code>break</code>语句用来提前结束当前循环。我们之前已经见过它了。</p>
<p><code>continue</code>语句用来跳过某次迭代。我们可以这么来用它：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (( i = 0; i &lt; 10; i++ )); <span class="keyword">do</span></span><br><span class="line">  <span class="keyword">if</span> [[ $(( i % 2 )) -eq 0 ]]; <span class="keyword">then</span> <span class="built_in">continue</span>; <span class="keyword">fi</span></span><br><span class="line">  <span class="built_in">echo</span> <span class="variable">$i</span></span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure>
<p>运行上面的例子，会打印出所有0到9之间的奇数。</p>
<h1 id="函数"><a href="/2016/12/13/bash_learn/#函数" class="headerlink" title="函数"></a>函数</h1><p>在脚本中，我们可以定义并调用函数。跟其它程序设计语言类似，函数是一个代码块，但有所不同。</p>
<p>bash中，函数是一个命令序列，这个命令序列组织在某个名字下面，即 <em>函数名</em> 。调用函数跟其它语言一样，写下函数名字，函数就会被 _调用_ 。</p>
<p>我们可以这样声明函数：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">my_func</span></span> () &#123;</span><br><span class="line">  <span class="comment"># 语句</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">my_func <span class="comment"># 调用 my_func</span></span><br></pre></td></tr></table></figure>
<p>我们必须在调用前声明函数。</p>
<p>函数可以接收参数并返回结果 —— 返回值。参数，在函数内部，跟<a href="/2016/12/13/bash_learn/#非交互模式">非交互式</a>下的脚本参数处理方式相同 —— 使用<a href="/2016/12/13/bash_learn/#位置参数">位置参数</a>。返回值可以使用<code>return</code>命令 _返回_ 。</p>
<p>下面这个函数接收一个名字参数，返回<code>0</code>，表示成功执行。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 带参数的函数</span></span><br><span class="line"><span class="function"><span class="title">greeting</span></span> () &#123;</span><br><span class="line">  <span class="keyword">if</span> [[ -n <span class="variable">$1</span> ]]; <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">"Hello, <span class="variable">$1</span>!"</span></span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">"Hello, unknown!"</span></span><br><span class="line">  <span class="keyword">fi</span></span><br><span class="line">  <span class="built_in">return</span> 0</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">greeting Denys  <span class="comment"># Hello, Denys!</span></span><br><span class="line">greeting        <span class="comment"># Hello, unknown!</span></span><br></pre></td></tr></table></figure>
<p>我们之前已经介绍过<a href="/2016/12/13/bash_learn/#返回值">返回值</a>。不带任何参数的<code>return</code>会返回最后一个执行的命令的返回值。上面的例子，<code>return 0</code>会返回一个成功表示执行的值，<code>0</code>。</p>
<h2 id="Debugging"><a href="/2016/12/13/bash_learn/#Debugging" class="headerlink" title="Debugging"></a>Debugging</h2><p>shell提供了用于debugging脚本的工具。如果我们想以debug模式运行某脚本，可以在其shebang中使用一个特殊的选项：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/bin/bash options</span></span><br></pre></td></tr></table></figure>
<p>options是一些可以改变shell行为的选项。下表是一些可能对你有用的选项：</p>
<table>
<thead>
<tr>
<th style="text-align:center">Short</th>
<th style="text-align:left">Name</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><code>-f</code></td>
<td style="text-align:left">noglob</td>
<td style="text-align:left">禁止文件名展开（globbing）</td>
</tr>
<tr>
<td style="text-align:center"><code>-i</code></td>
<td style="text-align:left">interactive</td>
<td style="text-align:left">让脚本以 _交互_ 模式运行</td>
</tr>
<tr>
<td style="text-align:center"><code>-n</code></td>
<td style="text-align:left">noexec</td>
<td style="text-align:left">读取命令，但不执行（语法检查）</td>
</tr>
<tr>
<td style="text-align:center"><code>-t</code></td>
<td style="text-align:left">—</td>
<td style="text-align:left">执行完第一条命令后退出</td>
</tr>
<tr>
<td style="text-align:center"><code>-v</code></td>
<td style="text-align:left">verbose</td>
<td style="text-align:left">在执行每条命令前，向<code>stderr</code>输出该命令</td>
</tr>
<tr>
<td style="text-align:center"><code>-x</code></td>
<td style="text-align:left">xtrace</td>
<td style="text-align:left">在执行每条命令前，向<code>stderr</code>输出该命令以及该命令的扩展参数</td>
</tr>
</tbody>
</table>
<p>举个例子，如果我们在脚本中指定了<code>-x</code>例如：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/bin/bash -x</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (( i = 0; i &lt; 3; i++ )); <span class="keyword">do</span></span><br><span class="line">  <span class="built_in">echo</span> <span class="variable">$i</span></span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure>
<p>这会向<code>stdout</code>打印出变量的值和一些其它有用的信息：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">$ ./my_script</span><br><span class="line">+ (( i = 0 ))</span><br><span class="line">+ (( i &lt; 3 ))</span><br><span class="line">+ echo 0</span><br><span class="line">0</span><br><span class="line">+ (( i++  ))</span><br><span class="line">+ (( i &lt; 3 ))</span><br><span class="line">+ echo 1</span><br><span class="line">1</span><br><span class="line">+ (( i++  ))</span><br><span class="line">+ (( i &lt; 3 ))</span><br><span class="line">+ echo 2</span><br><span class="line">2</span><br><span class="line">+ (( i++  ))</span><br><span class="line">+ (( i &lt; 3 ))</span><br></pre></td></tr></table></figure>
<p>有时我们需要debug脚本的一部分。这种情况下，使用<code>set</code>命令会很方便。这个命令可以启用或禁用选项。使用<code>-</code>启用选项，<code>+</code>禁用选项：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"xtrace is turned off"</span></span><br><span class="line"><span class="built_in">set</span> -x</span><br><span class="line"><span class="built_in">echo</span> <span class="string">"xtrace is enabled"</span></span><br><span class="line"><span class="built_in">set</span> +x</span><br><span class="line"><span class="built_in">echo</span> <span class="string">"xtrace is turned off again"</span></span><br></pre></td></tr></table></figure>
<h2 id="更多资料"><a href="/2016/12/13/bash_learn/#更多资料" class="headerlink" title="更多资料"></a>更多资料</h2><ul>
<li>Bash的man页面。在Bash可以运行的众多环境中，通过运行<code>man bash</code>可以借助帮助系统<code>man</code>来显示Bash的帮助信息。</li>
<li><a href="https://www.gnu.org/software/bash/manual/" target="_blank" rel="noopener">“Bourne-Again SHell manual”</a><br><code></code></li>
</ul>

      
    </div>

    
      


    

    
    
    

    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/bash/" rel="tag"># bash</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2016/10/21/vba_base/" rel="next" title="收集一些vba的脚本">
                <i class="fa fa-chevron-left"></i> 收集一些vba的脚本
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2016/12/20/base64/" rel="prev" title="base64 编解码">
                base64 编解码 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>


  </div>


          </div>
          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            Table of Contents
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            Overview
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">DaSea</p>
              <p class="site-description motion-element" itemprop="description">Fucking Code!</p>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">51</span>
                    <span class="site-state-item-name">posts</span>
                  </a>
                </div>
              

              

              
                
                
                <div class="site-state-item site-state-tags">
                  <a href="/tags/index.html">
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">25</span>
                    <span class="site-state-item-name">tags</span>
                  </a>
                </div>
              
            </nav>
          

          

          
            <div class="links-of-author motion-element">
              
                <span class="links-of-author-item">
                  <a href="https://github.com/DaSea" target="_blank" title="GitHub" rel="external nofollow"><i class="fa fa-fw fa-github"></i>GitHub</a>
                  
                </span>
              
            </div>
          

          
          

          
          

          
            
          
          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#基本的"><span class="nav-number">1.</span> <span class="nav-text">基本的</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#返回值"><span class="nav-number">1.1.</span> <span class="nav-text">返回值</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#注释"><span class="nav-number">1.2.</span> <span class="nav-text">注释</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#变量"><span class="nav-number">2.</span> <span class="nav-text">变量</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#局部变量"><span class="nav-number">2.1.</span> <span class="nav-text">局部变量</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#环境变量"><span class="nav-number">2.2.</span> <span class="nav-text">环境变量</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#位置参数"><span class="nav-number">2.3.</span> <span class="nav-text">位置参数</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Shell扩展"><span class="nav-number">3.</span> <span class="nav-text">Shell扩展</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#大括号扩展"><span class="nav-number">3.1.</span> <span class="nav-text">大括号扩展</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#命令置换"><span class="nav-number">3.2.</span> <span class="nav-text">命令置换</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#算数扩展"><span class="nav-number">3.3.</span> <span class="nav-text">算数扩展</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#单引号和双引号"><span class="nav-number">3.4.</span> <span class="nav-text">单引号和双引号</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#数组"><span class="nav-number">4.</span> <span class="nav-text">数组</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#数组声明"><span class="nav-number">4.1.</span> <span class="nav-text">数组声明</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#数组扩展"><span class="nav-number">4.2.</span> <span class="nav-text">数组扩展</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#数组切片"><span class="nav-number">4.3.</span> <span class="nav-text">数组切片</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#向数组中添加元素"><span class="nav-number">4.4.</span> <span class="nav-text">向数组中添加元素</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#从数组中删除元素"><span class="nav-number">4.5.</span> <span class="nav-text">从数组中删除元素</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#流，管道以及序列"><span class="nav-number">5.</span> <span class="nav-text">流，管道以及序列</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#流"><span class="nav-number">5.1.</span> <span class="nav-text">流</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#管道"><span class="nav-number">5.2.</span> <span class="nav-text">管道</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#命令序列"><span class="nav-number">5.3.</span> <span class="nav-text">命令序列</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#条件语句"><span class="nav-number">6.</span> <span class="nav-text">条件语句</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#基元和组合表达式"><span class="nav-number">6.1.</span> <span class="nav-text">基元和组合表达式</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#使用if"><span class="nav-number">6.2.</span> <span class="nav-text">使用if</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#使用case"><span class="nav-number">6.3.</span> <span class="nav-text">使用case</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#while循环"><span class="nav-number">6.4.</span> <span class="nav-text">while循环</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#until循环"><span class="nav-number">6.5.</span> <span class="nav-text">until循环</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#select循环"><span class="nav-number">6.6.</span> <span class="nav-text">select循环</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#循环控制"><span class="nav-number">6.7.</span> <span class="nav-text">循环控制</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#函数"><span class="nav-number">7.</span> <span class="nav-text">函数</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Debugging"><span class="nav-number">7.1.</span> <span class="nav-text">Debugging</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#更多资料"><span class="nav-number">7.2.</span> <span class="nav-text">更多资料</span></a></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      
        <div class="back-to-top">
          <i class="fa fa-arrow-up"></i>
          
        </div>
      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2018</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">DaSea</span>

  

  
</div>


  



  <div class="powered-by">Powered by <a class="theme-link" target="_blank" rel="external nofollow" href="https://hexo.io">Hexo</a> v3.7.1</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" rel="external nofollow" href="https://theme-next.org">NexT.Gemini</a> v6.3.0</div>




        








        
      </div>
    </footer>

    

    
	
    

    
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>
























  



  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/reading_progress/reading_progress.js"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=6.3.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=6.3.0"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=6.3.0"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=6.3.0"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=6.3.0"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=6.3.0"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=6.3.0"></script>



  



  





  










  





  

  

  

  

  
  

  

  

  

  

  

</body>
</html>
